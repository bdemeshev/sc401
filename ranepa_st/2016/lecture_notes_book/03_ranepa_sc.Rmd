# Лекция 2, Сигма-алгебра ($\sigma$ - алгебра), 2016-09-25

Конспект: Антон Гисин

## Определение $\sigma$-алгебры

### Обозначения:
Случайные величины принято обозначать заглавными последними буквами латинского алфавита,
например $X, Y, Z$. События обычно обозначают заглавными первыми буквами латинского алфавита,
например $A,B,C$. Для обозначения $\sigma$-алгебры обычно используются каллиграфические заглавные буквы латинского алфавита, например $\mathcal{A,F,H}$.

### Неформальное определение $\sigma$ - алгебры:
$\sigma$-алгебра индивида - множество событий, про которые индивид может гарантированно сказать, произошли они или нет, вне зависимости от исхода эксперимента.
Цель использования $\sigma$-алгебр - описать наделенность информацией индивидов.

### Пример с игровым кубиком:
Эксперимент заключается в однократном подбрасывании игрового кубика. Пространство элементарных исходов:
\[ \Omega = \{1,2,3,4,5,6\}\]
Имеется три наблюдателя эксперимента:
Антон - знает что кубик бросали, но не видел что на нем выпало.
Обозначим $\sigma$-алгебру Антона $\mathcal{F}$,
Берта - внимательно наблюдала эксперимент, видела исход. 
Обозначим $\sigma$-алгебру Берты $\mathcal{H}$.
Ваня - так же видел исход эксперимента, но он из южно-американского племени Пираху, где при счете различают только 1, 2 и "много".
$\sigma$-алгебра Вани - $\mathcal{V}$.

Определим, из каких элементов состоит каждая $\sigma$-алгебра.
Антон не видел исход эксперимента, но знал, что эксперимент был, таким образом он может ответить на вопрос: "Упал ли кубик?", или по-другому: "Выпало ли какое-нибудь число?". То есть Антон различает только два события: "кубик упал", которому соответствует все пространство элементарных исходов, и "кубик не упал", которому соответствует пустое множество. Получаем, что $\sigma$-алгебра Антона состоит из двух элементов:
\[\mathcal{F}=\{\varnothing,\Omega \}\]

Берта видела исход эксперимента и различает все исходы, а значит, различает все возможные события, которые могут произойти в ходе эксперимента, их объединения, пересечения и прочие логические операции над ними ( мы предполагаем, что наши индивиды умеют делать логические выводы, на основе имеющейся информации). 
$\sigma$-алгебра Берты - булеан $\Omega$.

Между делом посмотрим, как вычисляется булеан конечного множества. Вычислим мощность $\mathcal{H}$.
Пусть событие $A_{i}$ - на кубике выпало число очков, равное $i$, $i=1,\dots,6$.
Элементы множества $\mathcal{H}$ - это все возможные события нашего эксперимента. Каждое событие можно представить в виде объединения всех $A_{i}$ или их дополнений $\bar{A}_{i}$:
\[
\begin{bmatrix}
A_{1} \\
\bar{A}_{1}
\end{bmatrix}
\cup
\begin{bmatrix}
A_{2} \\
\bar{A}_{2}
\end{bmatrix}
\cup
\begin{bmatrix}
A_{3} \\
\bar{A}_{3}
\end{bmatrix}
\cup
\begin{bmatrix}
A_{4} \\
\bar{A}_{4}
\end{bmatrix}
\cup
\begin{bmatrix}
A_{5} \\
\bar{A}_{5}
\end{bmatrix}
\cup
\begin{bmatrix}
A_{6} \\
\bar{A}_{6}
\end{bmatrix}
\]
То есть $A_{i}$ означает, что мы "включаем" i-ый исход, а $\bar{A}_{i}$ - "исключаем" i-ый исход. Поясним это на примерах. Так событие "выпало четное число очков", можно представить следующим образом:
\[
\bar{A}_{1}\cup A_{2}
\cup \bar{A}_{3}\cup A_{4}
\cup \bar{A}_{5}\cup A_{6}
\]
Событию "кубик упал" соответствует:
\[
A_{1}\cup A_{2}
\cup A_{3}\cup A_{4}
\cup A_{5}\cup A_{6}
\]
а событию "кубик вообще не кидали", то есть пустому множеству, соответствует:
\[
\bar{A}_{1}\cup \bar{A}_{2}
\cup \bar{A}_{3}\cup \bar{A}_{4}
\cup \bar{A}_{5}\cup \bar{A}_{6}
\]
С помощью простых комбинаторных методов считаем все возможные комбинации таких событий, получаем:
\[ card\mathcal{H}=2^6=64 \]
То есть в $\sigma$ - алгебре Берты 64 элемента. В общем случае мощность булеана конечного множества $A$, 
в котором $n$ элементов, вычисляется по формуле:
\[ card\mathcal{P}(A)=2^n \]
Вернемся к нашей первоначальной задаче. В ситуации с Антоном и Бертой все достаточно просто, у Вани же дела обстоят немного интереснее. Рассмотрим некоторые примеры событий и выясним, лежат ли они в $\sigma$-алгебре Вани или нет.
"Выпало 1" = $\{1\}\in\mathcal{V}$, так как Ваня знает что такое 1.
"Выпало 5"=$\{5\}\notin\mathcal{V}$, так как все, что больше 2 Ваня считает за "много", следовательно 5 к примеру от 3 или 6 он не отличит.
"Выпало четное число" = $\{2,4,6\}\notin\mathcal{V}$, так как если Ваня не различает числа больше 2, он не может определить и их четность.
"Не выпало 2"=$\{1,3,4,5,6\}\in\mathcal{V}$, так как раз Ваня знает, что такое 2, то и сказать, что все остальное это не 2, он тоже сможет.
Следуя этой логике, выпишем все элементы $\sigma$-алгебры Вани:
\[ \mathcal{V}=\{\varnothing,\Omega,\{1\},\{2\},\{1,2\},\{1,3,4,5,6\},\{3,4,5,6\},\{2,3,4,5,6\}\} \]
Можем себя проверить, вычислив мощность $\mathcal{V}$. $\sigma$-алгебра Вани это есть ничто иное, как булеан множества элементарных исходов, которые Ваня различает, \{1,2,"много"\}. По формуле мощности булеана, указанной выше, получаем:
\[ card\mathcal{H}=2^3=8 \]
В нашем списке тоже 8 элементов, значит мы выписали все правильно.

### Формальное определение $\sigma$ - алгебры:
Множество $\mathcal{F}$ называется ${\bf\sigma - алгеброй}$ для множества элементарных исходов $\Omega$, если:

1) $\varnothing,\Omega \in \mathcal{F}$
2) Если $A \in \mathcal{F}$, то и $\bar{A} \in \mathcal{F}$
3) Если $A_{1}, A_{2},\dots \in \mathcal{F}$, то любое событие, которое можно получить из $A_{i}$ с помощью любой логической операции **в счетном количестве**, обязательно лежит в $\mathcal{F}$.

На самом деле, некоторые пункты в данном определении можно опустить, так как другие пункты так же их учитывают.
Минимальные требования, при которых определение остается корректным:

1) $\varnothing \in \mathcal{F}$
2) Если $A \in \mathcal{F}$, то и $\bar{A} \in \mathcal{F}$
3) Если $A_{1}, A_{2},\dots \in \mathcal{F}$, то и
$\bigcup_{i=1}^{\infty} A_{i} \in \mathcal{F}$

## Упражнение про Петров и Николаев:

В ходе эксперимента монетку подбрасывают бесконечное число раз.
Пусть событие $A_{i}$ - в i-ом подбрасывании выпал орел, $i=1,2,\dots$ .Имеются два типа наблюдателей, Петры и Николаи. 
$Петр_{1}$ видел все подбрасывания, начиная с первого, $Петр_{2}$ видел все подбрасывания, начиная со второго и тд. То есть $Петр_{i}$ видел все подбрасывания, начиная с i-ого. 
$Николай_{1}$ видел первое подбрасывание, а потом ушел, $Николай_{2}$ видел первое и второе подбрасывание, а потом ушел и тд. То есть $Николай_{i}$ видел все подбрасывания до i-ого включительно, а остальные не видел.
Обозначим $\sigma$ - алгебру i-ого Петра $\mathcal{F}_{i}$, а $\sigma$-алгебру i-ого Николая $\mathcal{H}_{i}$.

**Задания:**

1) Выпишите явно $\mathcal{H}_{1}$ и $\mathcal{H}_{2}$.
2) Сколько событий в $\mathcal{H}_{2016}$ ?
3) Сравните $\mathcal{H}_{100}$ и $\mathcal{H}_{200}$ .
4) Сравните $\mathcal{F}_{100}$ и $\mathcal{F}_{200}$ .
5) В какие $\sigma$-алгебры входят следующие события:
+ $A_{1}$
+ $A_{40}$
+ $A_{1} \cup A_{40}$
+ $A_{1} \cap A_{40}$

+ $\bigcap_{i=1}^{\infty}A_{i}$

+ $\bigcup_{i=1}^{\infty}A_{i}$

+ $A_{56}\cap \bar{A}_{47}$

+ $\bigcup_{j=40}^{\infty}A_{j}$

+ $\bigcap_{i=1}^{\infty}(\bigcup_{j=i}^{\infty}A_{j})$

+ $\bigcup_{i=1}^{\infty}(\bigcap_{j=i}^{\infty}A_{j})$

*Решение:*

1) $\mathcal{H}_{1}=\{A_{1},\bar{A}_{1},\Omega,\varnothing\}$;

В $\sigma$-алгебру $Николая_{2}$ входят $A_{1},{A}_{2}$ и все возможные логические операции над этими событиями.
Изобразим  это с помощью диаграмм Эйлера-Венна:

![*выполнено с использованием пакета tikz в LaTeX*](images/VennDiagramPar.PNG)

Диаграмма условно разбита на 4 сектора, которые обозначены $R_{1},R_{2},R_{3}$ и $R_{4}$. Элементы $\sigma$-алгебры $Николая_{2}$ - это все возможные комбинации "включения" и "исключения" областей $R_{i}$. Получаем:

\[\mathcal{H}_{2}=\{
A_{1},\bar{A}_{1},
A_{2},\bar{A}_{2},
A_{1}\cup{A}_{2},
A_{1}\cap{A}_{2},
\bar{A}_{1}\cup{A}_{2},
A_{1}\cup \bar{A}_{2},
\bar{A}_{1}\cap{A}_{2},
A_{1}\cap \bar{A}_{2},
\bar{A}_{1}\cup \bar{A}_{2},
\bar{A}_{1}\cap \bar{A}_{2},
A_{1}\Delta{A}_{2},
\overline{A_{1}\Delta{A}_{2}},
\Omega,\varnothing\
\}\]

2) $card\mathcal{H}_{2016}=2^{2016}$

3) $card\mathcal{H}_{100}<card\mathcal{H}_{200}$

4) $\mathcal{F}_{100}>\mathcal{F}_{200}$
5) 
+ $A_{1}\in \mathcal{H}_{i}, i=1,2,\dots$, 

$A_{1}\in \mathcal{F}_{1}$

+ $A_{40} \in \mathcal{H}_{i}, i=40,41,\dots$, 

$A_{40} \in \mathcal{F}_{j}, j=1,2,\dots,40$

+ $A_{1} \cup A_{40}\in \mathcal{F}_{1}$, 

$A_{1} \cup A_{40}\in \mathcal{H}_{i}, i=40,41,\dots$

+ $A_{1} \cap A_{40}\in \mathcal{F}_{1}$, 

$A_{1} \cap A_{40}\in \mathcal{H}_{i}, i=40,41,\dots$

+ "в каждом подбрасывании выпал орел" $\bigcap_{i=1}^{\infty}A_{i}\in \mathcal{F}_{1}$

+ "за все подбрасывания хотя бы раз выпал орел" $\bigcup_{i=1}^{\infty}A_{i}\in \mathcal{F}_{1}$

+ $A_{56}\cap \bar{A}_{47}\in \mathcal{H}_{i}, i=56,57,\dots$,

$A_{56}\cap \bar{A}_{47}\in \mathcal{F}_{i}, j=1,2,\dots,47$

+ "после 39 подбрасывания хотя бы раз выпал орел" $\bigcup_{i=40}^{\infty}A_{i}\in \mathcal{F}_{j}, j=1,2,\dots,40$


