
#Глава 11. Решение задач по теме "Условное математическое ожидание"

Конспект: Маликова Ольга

дата: 14 октября 2016 г. 

##11.1 Задача №1

### Условие задачи

Известно, что $X \sim Bin(n=20;p=0.1)$

Нужно найти $E(0.3^X)$

###Решение

#### 1. "Решение в лоб"

Согласно условию, $X$ принимает значения от $1$ до $20$. Тогда:

$E(0.3^X) = P(X = 0) * 0.3^0 + P(X = 1) * 0.3^1 + ... + P(X = 20) * 0.3^{20}= \sum_{i=0}^{20} P(X=i) * 0.3^ {i}$ 

Посчитаем вероятности отдельно:

* $P(x = 0) = (1 - 0.1)^{20} = 0.9^{20}$ (вероятность $0$ успехов в каждом испытании)

* $P(x = 1) = 0.1^{1} * (1 - 0.1)^{19} = 0.9^{19} * 0.1 ^1$ (вероятность $1$ успехов в каждом испытании) 

По аналогичной схеме считаем и остальные вероятности.

Таким образом $E(0.3^X) = \sum_{i=0}^{20} C_{20}^i * 0.1^i * 0.9^{20-i} * 0.3^ {i} = \sum_{i=0}^{20} C_{20}^i * 0.03^i * 0.9^{20-i}$

Чтобы посчитать эту сумму, вспомним треугольник Паскаля и его свойства

Числовой треугольник Паскаля — неисчерпаемый источник всевозможных математических радостей.

В верхней строчке треугольника располагается одинокая единица. В остальных строках каждое число является суммой двух своих соседей этажом выше — слева и справа. Если какой-то из соседей отсутствует, он считается равным нулю. Треугольник бесконечно простирается вниз:


\begin{matrix}
&&&&& 1\\
&&&& 1 && 1\\
&&& 1 && 2 && 1\\
&& 1 && 3 && 3 && 1\\
& 1 && 4 && 6 && 4 && 1\\
1 && 5 && 10 && 10 && 5 && 1\\
&&&&&...
\end{matrix}

Числа в $n$-ой строке треугольника являются биномиальными коэффициентами, то есть коэффициентами в разложении $n$-ой степени бинома Ньютона. 

В общем виде: 

$(a +b)^n = \sum_{i=0}^{n} C_n^i * a^i * b^{n-i}$


Полученную нами сумму можно рассматривать как сумму с биномиальными коэффициентами, тогда:
$\sum_{i=0}^{20} C_{20}^i * 0.03^i * 0.9^{20-i} = (0.03 +0.9)^{20} = 0.93^{20}$
Итак, мы нашли, что $E(0.3^X) = 0.93^{20}$

####2."Изящное решение"

На предыдущей лекции, мы предположили, что вероятность можно трактовать как математическое ожидание и доказали, что $E(P(A|X)) = P(A)$

Для того, чтобы применить это свойство, придумаем такой случайный эксперимент, в котором $P(A|X) = 0.3^{X}$. Тогда мы сможем утверждать, что $E(0.3^X) = E(P(A|X)) = P(A)$

Распишем наш эксперимент поэтапно.

1. На первом шаге 20 раз подбрасываем неправильная монетка, которая выпадает "орлом" с вероятностью $P=0.1$. 
Пусть всего выпало $X$.

2. На втором шаге $X$ раз подбрасываем другую неправильную монетку, которая выпадает орлом с вероятностью $P=0.3$. 

Введём в рассмотрение событие $A$ - "на втором шаге выпали все орлы" / "на втором шаге не выпала ни одна решка" 

При такой постановке $P(A|X) = 0.3^X$

Теперь подумаем, какова в этом опыте будет $P(А)$ - "вероятность того, что на втором шаге выпали все орлы".

Для простоты представим, что на 1-ом шаге мы подбрасываем одновременно 20 одинаковых неправильных монеток , что аналогично подбрасыванию одной монеты 20 раз. 
Изобразим "судьбу" одной такой монетки графически (для остальных ситуция будет аналогичная)


![**Рис.1** *Дерево игры для одной монетки, подбрасываемой на 1-ом шаге*](C:\Users\olgam\Desktop\images\diagram1.jpg)


Введём в рассмотрение событие $A_1$ - "на втором шаге выпал орёл" (для рассматриваемой монетки)

Тогда $P(A_1) = 0.9 + 0.1 * 0.3 = 0.93$

Важно понять, что если на 1-ом шаге выпадает решка, то на 2-ом шаге мы не подбрасываем другую монетку. Другими словами, после выпадении решки на 1-ом шаге мы однозначно можем сказать, что это не угрожает нам появлением решки на 2-ом шаге. 

Так как остальные монетки, подбрасываемые на первом шаге аналогичны рассмотренной, то $P(A) = (0.9 + 0.1 * 0.3)^{20} = 0.93^{20}$

Итак, мы получили, что $E(0.3^X) = 0.93^{20}$. Исходя из этого $\underbrace{E(0.3^X)}_{E(P(A|X))} = \underbrace{0.93^{20}}_{P(A)}$

## 11.2 Задача №2

###Условие

Пусть у нас есть круглая верёвка длиной 10 метров. Также у нас есть Алиса и Илья, которые придумали игру, правила которой следующие. В центр круга, который образует верёвка, становится Илья, которому мы предварительно дали в руки мачете, и закрывает глаза. Далее, Алиса берётся за верёвку в любом месте. После этого мы раскручиваем Илью (разумеется глаза у него по-прежнему закрыты), и он делает 2 случайных разреза в разных местах верёвки.

После этого круглая верёвка "распадается" на две части. Алисе достаётся та часть, за которую она держалась рукой, а Илье  - оставшаяся. Выигравшим считается тот, у которого в итоге оказался кусок верёвки большей длины.

![**Рис.2** *Схематичное условие задачи*](C:\Users\olgam\Desktop\images\diagram2.png)

Обозначим:

* $X_A$  - длина куска верёвки, который достался Алисе
* $X_L$ - длина куска верёвки, который достался Илье

Найти:

a)$P(X_A > X_L)$ - "вероятность того, что кусок верёвки, который оказался у Алисы длиннее куска верёвки, оказавшегося у Ильи"

б)$E(X_A)$

###Решение

Перед тем как начать решать задачу, сделаем несколько замечаний: 

* При проведении данной игры ни одна Алиса не пострадала! Т.е $P("$Илья  при разрезе попадает в Алису$") = 0$
* $P("$Илья при 2-ом разрезе попадает в первый разрез$") = 0$

Также заметим, что игра, в которой сначала Илья делает 2 разреза, а потом Алиса с закрытыми глазами случайным образом выбирает кусок аналогична исходному условию задачи. Так как эти два события независимы.

Ещё немного изменим условие. Пусть Алиса не выбирает кусок верёвки, а делает разрез. Тогда верёвка условно оказывается "разрубленной" на 3 части.
($P("$Алиса попадает в разрез, который сделал Илья$") = 0$)

Так как все события одинаковы - всегда делается разрез, и независимы, то  можно сделать вывод, что $E("$длина каждого из кусочков$") = \frac{10}{3}$ (мы ожидаем, что все 3 куска одинаковые, так как никакой дополнительной информации о месте разрубов у нас нет). 

А теперь вспомним, что в изначальном условии Алиса делает не разрез, а берётся за верёвка рукой. Тем самым ей достаются 2 соседних куска. Из чего следует, что 
$E(X_A) = 2 * \frac{10}{3} = \frac{20}{3}$

Итак, мы ответили на пункт "б", перейдём теперь к пункту "a"

Решим этот пункт графически
Условно объявим, координаты точки, где держится рукой Алиса $[0,0]$.
Соответсвенно, координаты 1-го и 2-го удара (U1 и U2) Илья находятся от $1$ до
$10$

Пусть Илья сначала ударил в точку $[$$U_1 = 5$ $,$ $U_2 = 6$$]$. В таком случае, Алисе достанется кусок длины $X_A = 9$, и она выиграет, так у неё находтся кусок наибольшей длины. Аналогичная ситуация, если Илья попадает в точку $[$$U_1 = 6$ $,$ $U_2 = 5$$]$, эта точка тоже будет в пользу Алисы.

А вот точка $[$$U_1 = 9$ $,$ $U_2 = 1$$]$ уже будет в пользу Ильи.

(не забываем, что алиса стоит в начале кординат)

Границs, между областью точек, где выигрывает Алиса и областями точек, где выигрывает Илья - это прямые $U_1 = 5 + U_2$ и $U_1 = 5 + U_2$.

![**Рис.4** *Графическое представления решения для пункта "б", Задача 2*](C:\Users\olgam\Desktop\images\diagram4.PNG)

Вероятность того, что Алиса выиграет эту игру, то есть $P(X_A >X_L)$, - это площадь области, в которой выигрывает Алиса. Не трудно посчитать, что в этом случае $P(X_A >X_L) = \frac{20}{3}$

###Выводы из задачи №2

Мало того, что этот пример прекрасен сам по себе, его можно использовать для решения ряда похожих задач.


Развернём систему координат. Отметим на ней точки ударов Ильи $U_1$ и $U_2$. В общем случае  $U_1 = \min [U_1,U_2]$ а $U_2 = \max [U_1,U_2]$

![**Рис.5** *Графическое представления развёрнутой системы координат*](C:\Users\olgam\Desktop\images\diagram5.PNG)

Ранее было доказано, что $E(U_1) = E(\min [U_1,U_2]) = \frac{10}{3}$ 
(на орезке длино 10 метров)

Аналогично, если на отрезке $[0,100]$ Илья делает $30$ случайных равномерных разрубов.
То $E(\min [U_1,U_2,...U_{30}]) = \frac{100}{31}$ 
(не забываем, что Алиса также условно держится в какой-то точке)

Вот так вот с лёгкостью мы научились считать $E(\min/\max)$

Закрепим этот навык, решив следующуу задачу.

##11.3 Задача № 3

###Условие

Пусть $U_1 \sim U(0;1)$. 

Найти $E(U_1^{56})$

###Решение

Конечно, можно решить задачу привычным способом, взяв интеграл $\int\limits_0^{100}U^{56}*\underbrace{\frac{1}{1}}_{функция\
плотности}\,dU$

Однако, мы пойдём другим путём, придав cобытию вероятностную интерпритацию. 

Интуитивно: "$U_1^{56}$ - вероятность того, что что-то попало левее $U_1$ 56 раз на отрезке $(0;1)$" (не забываем, что $U_1 \sim U(0;1)$)

Придумаем двушаговый эксперимент и распишем его поэтапно.

1. На первом шаге Алиса делает удар, координаты которого $U_1$

2. На втором шаге Илья 56 раз рубит верёвку. Координаты его ударов $U_2 , U_3 , ... U_{57}$ соответственно.

Введём в рассмотрение событие $A$ - Илья все разы попал левее Алисы.

Тогда $P(A)$ - вероятность того, что точка удара Алисы $U_1$ самая правая - равна $\frac{1}{57}$ (всего у нас 57 точек, и мы ищем вероятность того, что нужная нам точка самая крайняя)

С другой стороны $P(A|U_1)$  - вероятность того, что Илья все разы попадёт левее $U_1$, если мы знаем координаты $U_1$ нам известны) - равна $U_1^{56}$

Вспомнив свойство, неоднократно используемое нами в этой лекции, обобщим всё написанное выше.

$E(U_1^{56}) = E(P(A|U_1) = P(A) = \frac{1}{57}$





















